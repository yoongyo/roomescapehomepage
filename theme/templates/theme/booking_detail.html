{% extends 'base.html' %}

{% block content %}

<script>
    function price_change(){
        var form = document.BookingForm;
        var forms = document.BookingsForm;
        if (form.numPeople.options[form.numPeople.selectedIndex].value == "1명"){
            {% for i in info %}
            Price.innerHTML = "금액 : " + MoneySwap({{ i.people1 }}, 1) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "1명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people1 }}, 1) + "원";
            {% endfor %}
            return;
        }
        if (form.numPeople.options[form.numPeople.selectedIndex].value == "2명"){
            {% for i in info %}
            Price.innerHTML = "금액 : " + MoneySwap({{ i.people2 }}, 2) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "2명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people2 }}, 2) + "원";
            {% endfor %}
            return;
        }
        if (form.numPeople.options[form.numPeople.selectedIndex].value == "3명"){
            {% for i in info %}
            Price.innerHTML = "금액 : " + MoneySwap({{ i.people3 }}, 3) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "3명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people3 }}, 3) + "원";
            {% endfor %}
            return;
        }
        if (form.numPeople.options[form.numPeople.selectedIndex].value == "4명"){
            {% for i in info %}
            Price.innerHTML = "금액 : " + MoneySwap({{ i.people4 }}, 4) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "4명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people4 }}, 4) + "원";
            {% endfor %}
            return;
        }
        if (form.numPeople.options[form.numPeople.selectedIndex].value == "5명"){
            {% for i in info %}
            Price.innerHTML = "금액 : " + MoneySwap({{ i.people5 }}, 5) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "5명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people5 }}, 5) + "원";
            {% endfor %}
            return;
        }
        if (form.numPeople.options[form.numPeople.selectedIndex].value == "6명"){
            {% for i in info %}
            Price.innerHTML = "금액 : " + MoneySwap({{ i.people6 }}, 6) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "6명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people6 }}, 6) + "원";
            {% endfor %}
            return;
        }
        if (forms.numPeople.options[forms.numPeople.selectedIndex].value == "6명"){
            {% for i in info %}
            Price1.innerHTML = "금액 : " + MoneySwap({{ i.people6 }}, 6) + "원";
            {% endfor %}
            return;
        }
    }


    function MoneySwap(mValue, num){
       var price = num * mValue;
       var temp_str = String(price);
       for(var i = 0 , retValue = String() , stop = temp_str.length; i < stop ; i++) {
        retValue = ((i%3) == 0) && i != 0 ? temp_str.charAt((stop - i) -1) + "," + retValue : temp_str.charAt((stop - i) -1) + retValue;
       }
       return retValue;
    }

</script>

{{ form.media }}
<form class="d-none d-sm-block" name="BookingForm" action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="container-fluid py-5 px-5" style="background-color:black">
        <h1 class="text-center text-white">BOOKING</h1>
        <h4 class="text-center pb-5" style="color:rgb(171,171,171);">예약정보 입력</h4>
        <div class="container px-5">
            <div clas="container px-5">
                <div class="container px-5">
                    <hr class="mx-5" style="border:1px solid white">
                    <div class="mx-5 px-4">
                        <table class="text-white table">
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>예약일</h4></th>
                                <td style="border-color:black">{{ date }}</td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>시간</h4></th>
                                <td style="border-color:black">{{ time }}</td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>테마명</h4></th>
                                <td style="border-color:black">{{ theme.name }}</td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>예약자</h4></th>
                                <td style="border-color:black">{{ form.name }}</td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>연락처</h4></th>
                                <td style="border-color:black">{{ form.phone }}</td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>인원</h4></th>
                                <td style="border-color:black">{{ form.numPeople }}</td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                                <td style="border-color:black"></td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>가격</h4></th>
                                <td style="border-color:black"><span id="Price">금액 : 40,000 원</span></td>
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>입금정보</h4></th>
                                {% for i in info %}
                                <td style="border-color:black">{{ i.bank }}</td>
                                {% endfor %}
                            </tr>
                            <tr style="border-color:black">
                                <th style="border-color:black" scope="row"><h4>예약방식</h4></th>
                                <td style="border-color:black">{{ form.depositWay }}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="text-center mt-5 mb-3">
                        <input style="font-size:20px;" class="btn btn-secondary text-center px-5" type="submit" value="예약 하기">
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<form class="d-block d-sm-none" name="BookingsForm" action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="container-fluid py-3" style="background-color:black">
        <h4 class="text-center text-white">BOOKING</h4>
        <h5 class="text-center pb-2" style="color:rgb(171,171,171);">예약정보 입력</h5>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">예약일</h6></div>
            <div class="col-9"><h6 class="text-white">{{ date }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">시간</h6></div>
            <div class="col-9"><h6 class="text-white">{{ time }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">테마명</h6></div>
            <div class="col-9"><h6 class="text-white">{{ theme.name }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">예약자</h6></div>
            <div class="col-9"><h6 class="text-white">{{ form.name }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">연락처<br>('-'없이)</h6></div>
            <div class="col-9"><h6 class="text-white">{{ form.phone }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">인원</h6></div>
            <div class="col-9"><h6 class="text-white">{{ form.numPeople }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">가격</h6></div>
            <div class="col-9"><h6 class="text-white"><span id="Price1">금액 : 40,000 원</span></h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">입금 정보</h6></div>
            <div class="col-9"><h6 class="text-white">{% for i in info %}{{ i.bank }}{% endfor %}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="row">
            <div class="col-3"><h6 class="text-white">예약 방식</h6></div>
            <div class="col-9"><h6 class="text-white">{{ form.depositWay }}</h6></div>
        </div>
        <hr style="border:1px solid white">
        <div class="text-center m-3">
            <input class="btn btn-secondary text-center px-5" type="submit" value="예약 하기">
        </div>
    </div>
</form>


{% endblock %}